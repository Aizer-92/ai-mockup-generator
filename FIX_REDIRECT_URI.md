# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ redirect_uri_mismatch

## –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞ `400: redirect_uri_mismatch` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ Google OAuth –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π redirect URI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Google Cloud Console
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `quickstart-1591698112539`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services** ‚Üí **Credentials**

### 2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–∏ OAuth 2.0 credentials
1. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å —Å Client ID: `1047954485208-849n8mrie4rrapktqodrg6mp4js9r0oi.apps.googleusercontent.com`
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–∞—Ä–∞–Ω–¥–∞—à)

### 3. –î–æ–±–∞–≤—å—Ç–µ redirect URIs
–í —Ä–∞–∑–¥–µ–ª–µ **Authorized redirect URIs** –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ URI:

```
http://localhost:8080
http://localhost:8081
http://localhost:8082
http://localhost:8083
http://localhost:8084
http://localhost:8085
http://localhost:8086
http://localhost:8087
http://localhost:8088
http://localhost:8089
http://localhost:8090
http://localhost:61463
http://localhost:61464
http://localhost:61465
http://localhost:61466
http://localhost:61467
http://localhost:61468
http://localhost:61469
http://localhost:61470
http://localhost:61471
http://localhost:61472
http://localhost:61473
http://localhost:61474
http://localhost:61475
http://localhost:61476
http://localhost:61477
http://localhost:61478
http://localhost:61479
http://localhost:61480
http://localhost:61481
http://localhost:61482
http://localhost:61483
http://localhost:61484
http://localhost:61485
http://localhost:61486
http://localhost:61487
http://localhost:61488
http://localhost:61489
http://localhost:61490
http://localhost:61491
http://localhost:61492
http://localhost:61493
http://localhost:61494
http://localhost:61495
http://localhost:61496
http://localhost:61497
http://localhost:61498
http://localhost:61499
http://localhost:61500
```

### 4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–î–æ–±–∞–≤—å—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π redirect URI:

```
http://localhost
```

### 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ù–∞–∂–º–∏—Ç–µ **Save**
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∫–∞–∫ **Desktop application**, –∞ –Ω–µ **Web application**:

1. –í —Ä–∞–∑–¥–µ–ª–µ **Application type** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–æ **Desktop application**
2. –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ **Web application**, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ credentials –¥–ª—è Desktop application

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö credentials (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–µ credentials –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç:

1. –ù–∞–∂–º–∏—Ç–µ **+ CREATE CREDENTIALS** ‚Üí **OAuth client ID**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Desktop application**
3. –î–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "AI Mockup Generator Desktop")
4. –°–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—ã–π JSON —Ñ–∞–π–ª
5. –ó–∞–º–µ–Ω–∏—Ç–µ `credentials.json` –Ω–æ–≤—ã–º —Ñ–∞–π–ª–æ–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:

1. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `token.json` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç —Å–Ω–æ–≤–∞:
   ```bash
   source venv/bin/activate
   python test_google_drive.py
   ```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### OAuth consent screen
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ **OAuth consent screen**:
1. **User Type**: External
2. **App name**: AI Mockup Generator
3. **User support email**: –≤–∞—à email
4. **Developer contact**: –≤–∞—à email
5. **Scopes**: –¥–æ–±–∞–≤–ª–µ–Ω `https://www.googleapis.com/auth/drive.file`
6. **Test users**: –¥–æ–±–∞–≤–ª–µ–Ω –≤–∞—à email

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω **Google Drive API**:
1. **APIs & Services** ‚Üí **Library**
2. –ù–∞–π–¥–∏—Ç–µ "Google Drive API"
3. –ù–∞–∂–º–∏—Ç–µ **Enable**

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Google Cloud Console —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Desktop application:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ credentials –¥–ª—è **Web application**
2. –î–æ–±–∞–≤—å—Ç–µ redirect URI: `http://localhost:8080`
3. –û–±–Ω–æ–≤–∏—Ç–µ `credentials.json` —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Client ID –∏ Client Secret
- –í–∫–ª—é—á–µ–Ω –ª–∏ Google Drive API
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ OAuth consent screen
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
