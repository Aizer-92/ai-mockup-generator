# ðŸ”‘ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° SSH ÐºÐ»ÑŽÑ‡Ð° Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

## ÐžÐ±Ð·Ð¾Ñ€

Ð•ÑÐ»Ð¸ Ð½Ð° FTP ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð»ÐµÐ¶Ð¸Ñ‚ SSH ÐºÐ»ÑŽÑ‡, Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð±ÐµÐ· Ð²Ð²Ð¾Ð´Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ.

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

### 1. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ SSH ÐºÐ»ÑŽÑ‡ Ñ FTP ÑÐµÑ€Ð²ÐµÑ€Ð°

#### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð§ÐµÑ€ÐµÐ· Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€
2. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° `http://search.headcorn.pro/`
3. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð» Ñ SSH ÐºÐ»ÑŽÑ‡Ð¾Ð¼ (Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ `id_rsa` Ð¸Ð»Ð¸ `id_rsa.pub`)
4. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð½Ð° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€

#### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð§ÐµÑ€ÐµÐ· FTP ÐºÐ»Ð¸ÐµÐ½Ñ‚
1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ FileZilla Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ FTP ÐºÐ»Ð¸ÐµÐ½Ñ‚
2. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ:
   - **Host**: `search.headcorn.pro`
   - **Username**: `victoruk_search`
   - **Password**: `L2F&A#3zVpCq*T`
3. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð» Ñ SSH ÐºÐ»ÑŽÑ‡Ð¾Ð¼
4. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð½Ð° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€

#### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Ð§ÐµÑ€ÐµÐ· curl (ÐµÑÐ»Ð¸ ÐºÐ»ÑŽÑ‡ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ HTTP)
```bash
# Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡
curl -o ~/.ssh/id_rsa http://search.headcorn.pro/id_rsa

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð°
chmod 600 ~/.ssh/id_rsa
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ SSH ÐºÐ»ÑŽÑ‡

```bash
# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ SSH ÐºÐ»ÑŽÑ‡ÐµÐ¹
mkdir -p ~/.ssh
chmod 700 ~/.ssh

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ»ÑŽÑ‡ Ð² Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾
cp /path/to/downloaded/key ~/.ssh/id_rsa

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð°
chmod 600 ~/.ssh/id_rsa
```

### 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ

```bash
# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
cat >> ~/.ssh/config << 'EOF'

# ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ search.headcorn.pro
Host search.headcorn.pro
    HostName search.headcorn.pro
    User bakirovresad
    IdentityFile ~/.ssh/id_rsa
    IdentitiesOnly yes
    StrictHostKeyChecking no
    UserKnownHostsFile /dev/null
EOF

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð°
chmod 600 ~/.ssh/config
```

### 4. Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

```bash
# Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ
ssh search.headcorn.pro "echo 'SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚'"
```

## ðŸ”§ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹:

```bash
# 1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ SSH ÐºÐ»ÑŽÑ‡
./setup_ssh_key.sh

# 2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ ÑÐµÑ€Ð²ÐµÑ€Ð°
./auto_setup_with_ssh.sh
```

## ðŸ“‹ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ SSH ÐºÐ»ÑŽÑ‡:
```bash
ls -la ~/.ssh/id_rsa
# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ: -rw------- (600)
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:
```bash
cat ~/.ssh/config
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ:
```bash
ssh search.headcorn.pro "echo 'Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ'"
```

## ðŸš¨ Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´Ð¾Ðº

### ÐžÑˆÐ¸Ð±ÐºÐ° "Permission denied (publickey)":
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº ÐºÐ»ÑŽÑ‡Ñƒ
chmod 600 ~/.ssh/id_rsa

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ ÐºÐ»ÑŽÑ‡Ð°
head -1 ~/.ssh/id_rsa
# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ: -----BEGIN OPENSSH PRIVATE KEY-----
```

### ÐžÑˆÐ¸Ð±ÐºÐ° "No such file or directory":
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ ÐºÐ»ÑŽÑ‡ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚
ls -la ~/.ssh/id_rsa

# Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚, ÑÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ ÐµÐ³Ð¾ ÑÐ½Ð¾Ð²Ð°
```

### ÐžÑˆÐ¸Ð±ÐºÐ° "Host key verification failed":
```bash
# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ…Ð¾ÑÑ‚Ñ‹
ssh-keygen -R search.headcorn.pro

# Ð˜Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:
# StrictHostKeyChecking no
```

## ðŸŽ¯ ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ SSH ÐºÐ»ÑŽÑ‡Ð°

### Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ ÑÐµÑ€Ð²ÐµÑ€Ð°:

```bash
./auto_setup_with_ssh.sh
```

Ð­Ñ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
- âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð¿Ð°Ð¿ÐºÑƒ `/var/www/html/mockups`
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ Apache Ñ CORS
- âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ FTP ÑÐµÑ€Ð²Ð¸Ñ
- âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ Ð²ÑÐµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

## ðŸ“ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Streamlit Secrets

ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² Streamlit Secrets:

```toml
FTP_ENABLED = true
FTP_HOST = "search.headcorn.pro"
FTP_USERNAME = "victoruk_search"
FTP_PASSWORD = "L2F&A#3zVpCq*T"
FTP_REMOTE_PATH = "/var/www/html/mockups"
```

## ðŸŽ‰ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ SSH ÐºÐ»ÑŽÑ‡Ð°:
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
- âœ… ÐÐ¸ÐºÐ°ÐºÐ¸Ñ… Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹ Ð¿Ñ€Ð¸ SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¸
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°
- âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚ÑŒ Ðº Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ð¼Ð¾ÐºÐ°Ð¿Ð¾Ð²

## ðŸ”— ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

- **SSH ÐºÐ»ÑŽÑ‡Ð¸**: https://docs.github.com/en/authentication/connecting-to-github-with-ssh
- **SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ**: https://linuxize.com/post/using-the-ssh-config-file/
- **FileZilla**: https://filezilla-project.org/
